  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
head(data.m)
data.m
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(length(data.m)-1)])
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(length(data.m)-1)])
 c(data.m$ene[1], data.m$ene[1:(length(data.m)-1)
]
)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
dif
names(dif)
index()
index(dif)
which(dif)
which(dif>100)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- which(dif>100)
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
## 目で見てstageを分ける
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- which(dif>100)
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- which(dif>100)
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
q()
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- which(dif>100)
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- which(dif>100)
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- which(dif>=100)
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
dif
idx
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(which(dif>=100), length(dif))
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
q()
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
q)(library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
 
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
q()
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
 
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
 
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[sep.ser[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
q()
library(ggplot2)
read.data <- function(){
fn.dat <- paste("e1_fort.11", sep="")
dat <- read.table(fn.dat)
fn.fit <- paste("e1_fort.12", sep="")
fit <- read.table(fn.fit)
dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
colnames(dat.p) <- c("ene","dens","vs","plot")
colnames(fit.p) <- c("ene","dens","vs","plot")
rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
dif <- data.m$ene - c(data.m$ene[1], data.m$ene[1:(nrow(data.m)-1)])
idx <- c(1,which(dif>=100), length(dif))
for(i in c(1:(length(idx)-1))) {
  d <- data.m[idx[i]:(idx[i+1]-1), ]
  m<-  mean((d$dens.x - d$dens.y)^2)
  print(m)
}
q()
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
q()
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
q()
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
q()
/work1/t2g-16IAN/kasahara/cal/folding/ph02_mcmd/st11_ala8/for_next/fit_dden/cal04_mcmd1
library(ggplot2)
read.data <- function(){
  fn.dat <- paste("e1_fort.11", sep="")
  dat <- read.table(fn.dat)
  fn.fit <- paste("e1_fort.12", sep="")
  fit <- read.table(fn.fit)
  dat.p <- cbind(dat, rep(as.factor(1), nrow(dat)), rep("plot", nrow(dat)))
  fit.p <- cbind(fit, rep(as.factor(1), nrow(fit)), rep("fit", nrow(fit)))
  colnames(dat.p) <- c("ene","dens","vs","plot")
  colnames(fit.p) <- c("ene","dens","vs","plot")
  rbind(dat.p, fit.p)
}
data <- read.data()
p <- ggplot(data, aes(ene, dens))
p <- p+ geom_line(data=subset(data, plot=="fit"), aes(color=plot))
p <- p+ geom_point(data=subset(data, plot=="plot"), aes(color=plot))
p
data.m <- merge(subset(data,plot=="fit"), subset(data,plot=="plot"), by="ene", sort=T )
mean((data.m$dens.x - data.m$dens.y)^2)
head(data)
data
q()
