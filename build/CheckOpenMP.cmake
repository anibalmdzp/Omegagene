FIND_PACKAGE(OpenMP)
if (NOT OPENMP_FOUND)
    if (${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
        MESSAGE("System plaform is '${CMAKE_SYSTEM_NAME}'; will attempt to build while assuming OpenMP is installed by MacPorts...")
        SET(OpenMP_C_FLAGS "-I/opt/local/include/libomp -L/opt/local/lib/libomp -fopenmp=libomp")
        SET(OpenMP_CXX_FLAGS "-I/opt/local/include/libomp -L/opt/local/lib/libomp -fopenmp=libomp")
    else()
        MESSAGE(FATAL_ERROR "OpenMP is not installed on ${CMAKE_SYSTEM_NAME} machine; terminating build!")
    endif()
endif()
SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${OpenMP_C_FLAGS}")
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${OpenMP_CXX_FLAGS}")
